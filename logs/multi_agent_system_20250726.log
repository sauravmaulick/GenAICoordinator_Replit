2025-07-26 12:56:28 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 12:56:29 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 12:56:29 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:04:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:04:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:04:56 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:05:55 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:05:56 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:06:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:06:12 - __main__ - ERROR - main:96 - Error in workflow: module 'google.generativeai' has no attribute 'Client'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\streamlit_app.py", line 86, in main
    workflow = MultiAgentWorkflow() #run_langgraph.py
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 31, in __init__
    self.orchestrator = OrchestratorAgent()
                        ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 19, in __init__
    self.client = genai.Client(api_key=os.getenv("GEMINI_API_KEY"))
                  ^^^^^^^^^^^^
AttributeError: module 'google.generativeai' has no attribute 'Client'
2025-07-26 13:10:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:10:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:10:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:10:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:10:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:11:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:11:21 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:11:21 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:11:21 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 13:11:21 - __main__ - ERROR - main:96 - Error in workflow: Missing key inputs argument! To use the Google AI API, provide (`api_key`) arguments. To use the Google Cloud API, provide (`vertexai`, `project` & `location`) arguments.
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\streamlit_app.py", line 86, in main
    workflow = MultiAgentWorkflow() #run_langgraph.py
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 34, in __init__
    self.vector_agent = VectorAgent()
                        ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\vector_agent.py", line 17, in __init__
    self.embeddings_handler = EmbeddingsHandler()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\models\embeddings_handler.py", line 16, in __init__
    self.client = genai.Client(api_key=os.getenv("GEMINI_API_KEY"))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\genai\client.py", line 219, in __init__
    self._api_client = self._get_api_client(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\genai\client.py", line 265, in _get_api_client
    return BaseApiClient(
           ^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\genai\_api_client.py", line 554, in __init__
    raise ValueError(
ValueError: Missing key inputs argument! To use the Google AI API, provide (`api_key`) arguments. To use the Google Cloud API, provide (`vertexai`, `project` & `location`) arguments.
2025-07-26 13:12:42 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:13:27 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:13:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:13:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:13:48 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:14:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:14:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:14:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:14:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:14:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:09 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:09 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:15:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:49 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:49 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:51 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:53 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:16:53 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:19:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:19:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:19:44 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:19:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:19:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:20:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:20:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:20:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:20:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:20:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:08 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:08 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:41 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:49 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:50 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:50 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:22:50 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:22:50 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:22:50 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:22:50 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:22:50 - agents.orchestrator - INFO - break_down_query:26 - Breaking down user query using Chain-of-Thought
2025-07-26 13:22:50 - agents.orchestrator - ERROR - break_down_query:81 - Error breaking down query: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 66, in break_down_query
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:22:50 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:22:50 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:22:50 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:22:50 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:22:50 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:22:50 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:22:50 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:22:50 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:22:50 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:22:50 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:22:50 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:22:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:22:51 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:22:51 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:22:51 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:22:51 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:22:51 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:22:51 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:22:51 - agents.orchestrator - INFO - generate_final_summary:102 - Generating final consolidated summary
2025-07-26 13:22:51 - agents.orchestrator - ERROR - generate_final_summary:137 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 125, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:22:51 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:22:51 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:22:51 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:25:50 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:25:50 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:26:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:26:08 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:26:08 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:26:08 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:26:08 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:26:09 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:26:09 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:26:09 - agents.orchestrator - INFO - break_down_query:26 - Breaking down user query using Chain-of-Thought
2025-07-26 13:26:09 - agents.orchestrator - ERROR - break_down_query:81 - Error breaking down query: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 66, in break_down_query
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:26:09 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:26:09 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:26:09 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:26:09 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:26:09 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:26:09 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:26:09 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:26:09 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:26:09 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:26:09 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:26:10 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:26:10 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:26:10 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:26:10 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:26:10 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:26:10 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:26:10 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:26:10 - agents.orchestrator - INFO - generate_final_summary:102 - Generating final consolidated summary
2025-07-26 13:26:10 - agents.orchestrator - ERROR - generate_final_summary:137 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 125, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:26:10 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:26:10 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:26:10 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:28:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:28:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:28:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:28:02 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:28:02 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:28:02 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:28:02 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:28:02 - agents.orchestrator - INFO - break_down_query:26 - Breaking down user query using Chain-of-Thought
2025-07-26 13:28:02 - agents.orchestrator - ERROR - break_down_query:84 - Error breaking down query: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 66, in break_down_query
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:28:02 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:28:02 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:28:02 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:28:02 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:28:02 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:28:02 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:28:02 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:28:02 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:28:02 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:28:02 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:28:03 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:28:03 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:28:03 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:28:03 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:28:03 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:28:03 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:28:03 - agents.orchestrator - INFO - generate_final_summary:105 - Generating final consolidated summary
2025-07-26 13:28:03 - agents.orchestrator - ERROR - generate_final_summary:140 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 128, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:28:03 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:28:03 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:28:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:29:22 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:29:22 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:29:23 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:29:23 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:29:23 - agents.orchestrator - INFO - break_down_query:26 - Breaking down user query using Chain-of-Thought
2025-07-26 13:29:23 - agents.orchestrator - ERROR - break_down_query:84 - Error breaking down query: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 66, in break_down_query
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are an...        }\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:29:23 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:29:23 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:29:23 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:29:23 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:29:23 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:29:23 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:29:23 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:29:23 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:29:23 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:29:23 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:29:24 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:29:24 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:29:24 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:29:24 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:29:24 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:29:24 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:29:24 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:29:24 - agents.orchestrator - INFO - generate_final_summary:105 - Generating final consolidated summary
2025-07-26 13:29:24 - agents.orchestrator - ERROR - generate_final_summary:140 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 128, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:29:24 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:29:24 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:29:24 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:29 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:31 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:32:31 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:32:31 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:32:31 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:32:31 - agents.orchestrator - INFO - break_down_query:26 - Breaking down user query using Chain-of-Thought
2025-07-26 13:32:31 - agents.orchestrator - ERROR - break_down_query:102 - Error breaking down query: Could not create `Blob`, expected `Blob`, `dict` or an `Image` type(`PIL.Image.Image` or `IPython.display.Image`).
Got a: <class 'google.genai.types.Content'>
Value: parts=[Part(
  text="""
            You are an expert pharmaceutical data analyst. Your task is to break down complex user queries 
            into specific sub-questions that can be handled by specialized agents.
            
            Available agents and their capabilities:
            1. CAPA Agent: Reads and analyzes CAPA (Corrective and Preventive Action) data from text files
            2. Neo4j Agent: Queries graph database for investigation details, brands, batches, and PDF links
            3. Vector Agent: Searches vector database for clinical trial summaries and embedded document content
            4. Email Agent: Sends consolidated summaries via email
            
            For the given query, break it down into 3 specific sub-questions:
            - Q1: Should focus on CAPA data analysis (count, status, timeframe)
            - Q2: Should focus on Neo4j investigation queries (brand-specific, with CAPA relationships)
            - Q3: Should focus on vector search for clinical trial summaries
            
            Respond with JSON in this format:
            {
                "reasoning": "Your chain-of-thought reasoning for the breakdown",
                "sub_questions": [
                    "Q1: Specific CAPA-related question",
                    "Q2: Specific Neo4j investigation question", 
                    "Q3: Specific vector search question"
                ],
                "agent_mapping": {
                    "capa_agent": "Q1 description",
                    "neo4j_agent": "Q2 description", 
                    "vector_agent": "Q3 description"
                }
            }
            """
)] role='system'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 79, in break_down_query
    response = genai.GenerativeModel(self.model).generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 305, in generate_content
    request = self._prepare_request(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 154, in _prepare_request
    contents = content_types.to_contents(contents)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 333, in to_contents
    contents = [to_content(contents)]
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 296, in to_content
    return protos.Content(parts=[to_part(part) for part in content])
                                 ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 264, in to_part
    return protos.Part(inline_data=to_blob(part))
                                   ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 210, in to_blob
    raise TypeError(
TypeError: Could not create `Blob`, expected `Blob`, `dict` or an `Image` type(`PIL.Image.Image` or `IPython.display.Image`).
Got a: <class 'google.genai.types.Content'>
Value: parts=[Part(
  text="""
            You are an expert pharmaceutical data analyst. Your task is to break down complex user queries 
            into specific sub-questions that can be handled by specialized agents.
            
            Available agents and their capabilities:
            1. CAPA Agent: Reads and analyzes CAPA (Corrective and Preventive Action) data from text files
            2. Neo4j Agent: Queries graph database for investigation details, brands, batches, and PDF links
            3. Vector Agent: Searches vector database for clinical trial summaries and embedded document content
            4. Email Agent: Sends consolidated summaries via email
            
            For the given query, break it down into 3 specific sub-questions:
            - Q1: Should focus on CAPA data analysis (count, status, timeframe)
            - Q2: Should focus on Neo4j investigation queries (brand-specific, with CAPA relationships)
            - Q3: Should focus on vector search for clinical trial summaries
            
            Respond with JSON in this format:
            {
                "reasoning": "Your chain-of-thought reasoning for the breakdown",
                "sub_questions": [
                    "Q1: Specific CAPA-related question",
                    "Q2: Specific Neo4j investigation question", 
                    "Q3: Specific vector search question"
                ],
                "agent_mapping": {
                    "capa_agent": "Q1 description",
                    "neo4j_agent": "Q2 description", 
                    "vector_agent": "Q3 description"
                }
            }
            """
)] role='system'
2025-07-26 13:32:31 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:32:31 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:32:31 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:32:31 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:32:31 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:32:31 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:32:31 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:32:31 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:32:31 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:32:31 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:32:32 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:32:32 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:32:32 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:32:32 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:32:32 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:32:32 - agents.orchestrator - INFO - generate_final_summary:123 - Generating final consolidated summary
2025-07-26 13:32:32 - agents.orchestrator - ERROR - generate_final_summary:158 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 146, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:32:32 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:32:32 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:32:32 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:05 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:05 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:13 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:13 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:36:13 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:36:13 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:36:13 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:36:13 - agents.orchestrator - INFO - break_down_query:27 - Breaking down user query using Chain-of-Thought
2025-07-26 13:36:13 - agents.orchestrator - ERROR - break_down_query:103 - Error breaking down query: Could not create `Blob`, expected `Blob`, `dict` or an `Image` type(`PIL.Image.Image` or `IPython.display.Image`).
Got a: <class 'google.genai.types.Content'>
Value: parts=[Part(
  text="""
            You are an expert pharmaceutical data analyst. Your task is to break down complex user queries 
            into specific sub-questions that can be handled by specialized agents.
            
            Available agents and their capabilities:
            1. CAPA Agent: Reads and analyzes CAPA (Corrective and Preventive Action) data from text files
            2. Neo4j Agent: Queries graph database for investigation details, brands, batches, and PDF links
            3. Vector Agent: Searches vector database for clinical trial summaries and embedded document content
            4. Email Agent: Sends consolidated summaries via email
            
            For the given query, break it down into 3 specific sub-questions:
            - Q1: Should focus on CAPA data analysis (count, status, timeframe)
            - Q2: Should focus on Neo4j investigation queries (brand-specific, with CAPA relationships)
            - Q3: Should focus on vector search for clinical trial summaries
            
            Respond with JSON in this format:
            {
                "reasoning": "Your chain-of-thought reasoning for the breakdown",
                "sub_questions": [
                    "Q1: Specific CAPA-related question",
                    "Q2: Specific Neo4j investigation question", 
                    "Q3: Specific vector search question"
                ],
                "agent_mapping": {
                    "capa_agent": "Q1 description",
                    "neo4j_agent": "Q2 description", 
                    "vector_agent": "Q3 description"
                }
            }
            """
)] role='system'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 80, in break_down_query
    response = genai.GenerativeModel(self.model).generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 305, in generate_content
    request = self._prepare_request(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 154, in _prepare_request
    contents = content_types.to_contents(contents)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 333, in to_contents
    contents = [to_content(contents)]
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 296, in to_content
    return protos.Content(parts=[to_part(part) for part in content])
                                 ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 264, in to_part
    return protos.Part(inline_data=to_blob(part))
                                   ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\types\content_types.py", line 210, in to_blob
    raise TypeError(
TypeError: Could not create `Blob`, expected `Blob`, `dict` or an `Image` type(`PIL.Image.Image` or `IPython.display.Image`).
Got a: <class 'google.genai.types.Content'>
Value: parts=[Part(
  text="""
            You are an expert pharmaceutical data analyst. Your task is to break down complex user queries 
            into specific sub-questions that can be handled by specialized agents.
            
            Available agents and their capabilities:
            1. CAPA Agent: Reads and analyzes CAPA (Corrective and Preventive Action) data from text files
            2. Neo4j Agent: Queries graph database for investigation details, brands, batches, and PDF links
            3. Vector Agent: Searches vector database for clinical trial summaries and embedded document content
            4. Email Agent: Sends consolidated summaries via email
            
            For the given query, break it down into 3 specific sub-questions:
            - Q1: Should focus on CAPA data analysis (count, status, timeframe)
            - Q2: Should focus on Neo4j investigation queries (brand-specific, with CAPA relationships)
            - Q3: Should focus on vector search for clinical trial summaries
            
            Respond with JSON in this format:
            {
                "reasoning": "Your chain-of-thought reasoning for the breakdown",
                "sub_questions": [
                    "Q1: Specific CAPA-related question",
                    "Q2: Specific Neo4j investigation question", 
                    "Q3: Specific vector search question"
                ],
                "agent_mapping": {
                    "capa_agent": "Q1 description",
                    "neo4j_agent": "Q2 description", 
                    "vector_agent": "Q3 description"
                }
            }
            """
)] role='system'
2025-07-26 13:36:13 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:36:13 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:36:13 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:36:13 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:36:13 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:36:13 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:36:13 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:36:13 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:36:13 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:36:13 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:36:14 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:36:14 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:36:14 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:36:14 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:36:14 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:36:14 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:36:14 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:36:14 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:36:14 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:36:14 - agents.orchestrator - INFO - generate_final_summary:124 - Generating final consolidated summary
2025-07-26 13:36:14 - agents.orchestrator - ERROR - generate_final_summary:159 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 147, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:36:14 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:36:14 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:36:15 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:10 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:10 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:40:20 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:40:20 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:40:20 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:40:20 - agents.orchestrator - INFO - break_down_query:27 - Breaking down user query using Chain-of-Thought
2025-07-26 13:40:20 - google.auth._default - WARNING - _get_gce_credentials:362 - Authentication failed using Compute Engine authentication due to unavailable metadata server.
2025-07-26 13:40:20 - agents.orchestrator - ERROR - break_down_query:117 - Error breaking down query: 
  No API_KEY or ADC found. Please either:
    - Set the `GOOGLE_API_KEY` environment variable.
    - Manually pass the key with `genai.configure(api_key=my_api_key)`.
    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 93, in break_down_query
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 317, in generate_content
    self._client = client.get_default_generative_client()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\client.py", line 360, in get_default_generative_client
    return _client_manager.get_default_client("generative")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\client.py", line 289, in get_default_client
    client = self.make_client(name)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\client.py", line 249, in make_client
    raise e
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\client.py", line 241, in make_client
    client = cls(**self.client_config)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 667, in __init__
    self._transport = transport_init(
                      ^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\transports\grpc.py", line 235, in __init__
    super().__init__(
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\transports\base.py", line 100, in __init__
    credentials, _ = google.auth.default(
                     ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\auth\_default.py", line 685, in default
    raise exceptions.DefaultCredentialsError(_CLOUD_SDK_MISSING_CREDENTIALS)
google.auth.exceptions.DefaultCredentialsError: 
  No API_KEY or ADC found. Please either:
    - Set the `GOOGLE_API_KEY` environment variable.
    - Manually pass the key with `genai.configure(api_key=my_api_key)`.
    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.
2025-07-26 13:40:20 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:40:20 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:40:20 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:40:20 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:40:20 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:40:20 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:40:20 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:40:20 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:40:20 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:40:20 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:40:21 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:40:21 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:40:21 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:40:21 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:40:21 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:40:21 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:40:21 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:40:21 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:40:21 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:40:21 - agents.orchestrator - INFO - generate_final_summary:138 - Generating final consolidated summary
2025-07-26 13:40:21 - agents.orchestrator - ERROR - generate_final_summary:173 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 161, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:40:21 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:40:21 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:40:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:53 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:53 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:44:53 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:44:53 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:44:54 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:44:54 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:44:54 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:44:54 - agents.orchestrator - ERROR - break_down_query:121 - Error breaking down query: 400 Please use a valid role: user, model.
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 97, in break_down_query
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 Please use a valid role: user, model.
2025-07-26 13:44:54 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:44:54 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:44:54 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:44:54 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:44:54 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:44:54 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:44:54 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:44:54 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:44:54 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:44:54 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:44:54 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:44:54 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:44:54 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:44:55 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:44:55 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:44:55 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:44:55 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:44:55 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:44:55 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:44:55 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:44:55 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:44:55 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:44:55 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:44:55 - agents.orchestrator - INFO - generate_final_summary:142 - Generating final consolidated summary
2025-07-26 13:44:55 - agents.orchestrator - ERROR - generate_final_summary:177 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 165, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:44:55 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:44:55 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:44:55 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:31 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:31 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:47:31 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:47:31 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:47:31 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:47:31 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:47:31 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:47:32 - agents.orchestrator - ERROR - break_down_query:121 - Error breaking down query: 400 Please use a valid role: user, model.
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 97, in break_down_query
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 Please use a valid role: user, model.
2025-07-26 13:47:32 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 13:47:32 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:47:32 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: Q1: How many open CAPA are present in the last 1 year?
2025-07-26 13:47:32 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:47:32 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:47:32 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:47:32 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:47:32 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:47:32 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:47:32 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:47:33 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:47:33 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:47:33 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:47:33 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:47:33 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:47:33 - agents.orchestrator - INFO - generate_final_summary:142 - Generating final consolidated summary
2025-07-26 13:47:33 - agents.orchestrator - ERROR - generate_final_summary:177 - Error generating final summary: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 165, in generate_final_summary
    generation_config=types.GenerationConfig(
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for GenerationConfig
system_instruction
  Extra inputs are not permitted [type=extra_forbidden, input_value='\n            You are a ...a-driven.\n            ', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/extra_forbidden
2025-07-26 13:47:33 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:47:33 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:47:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:24 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:24 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:50:24 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:50:24 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:50:24 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:50:24 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:50:24 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:50:25 - run_langgraph - ERROR - orchestrate:71 - Error in orchestrator: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 66, in orchestrate
    breakdown = await self.orchestrator.break_down_query(state["query"]) ####
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 38, in break_down_query
    response = model.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
2025-07-26 13:50:25 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:50:25 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: How many open CAPA are present in the last one year?
2025-07-26 13:50:25 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:50:25 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:50:25 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:50:25 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:50:25 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:50:25 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:50:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:50:26 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:50:26 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:50:26 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:50:26 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:50:26 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:50:26 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:50:26 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:50:26 - agents.orchestrator - INFO - generate_final_summary:151 - Generating final consolidated summary
2025-07-26 13:50:26 - agents.orchestrator - ERROR - generate_final_summary:186 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 172, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 13:50:26 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:50:26 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:50:26 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:52:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:52:52 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:53:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:53:01 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:53:01 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:53:01 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:53:01 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:53:01 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:53:01 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:53:01 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:53:02 - run_langgraph - ERROR - orchestrate:71 - Error in orchestrator: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 57
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 66, in orchestrate
    breakdown = await self.orchestrator.break_down_query(state["query"]) ####
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 38, in break_down_query
    response = model.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 57
}
]
2025-07-26 13:53:02 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:53:02 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: How many open CAPA are present in the last one year?
2025-07-26 13:53:02 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:53:02 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:53:02 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:53:02 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:53:02 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:53:02 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:53:02 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:53:03 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:53:03 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:53:03 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:53:03 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:53:03 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:53:03 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:53:03 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:53:03 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:53:03 - agents.orchestrator - INFO - generate_final_summary:151 - Generating final consolidated summary
2025-07-26 13:53:03 - agents.orchestrator - ERROR - generate_final_summary:186 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 172, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 13:53:03 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:53:03 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:53:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:32 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:32 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:54:40 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:54:40 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:54:40 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:54:40 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:54:40 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:54:41 - run_langgraph - ERROR - orchestrate:71 - Error in orchestrator: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 18
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 66, in orchestrate
    breakdown = await self.orchestrator.break_down_query(state["query"]) ####
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 38, in break_down_query
    response = model.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 18
}
]
2025-07-26 13:54:41 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:54:41 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: How many open CAPA are present in the last one year?
2025-07-26 13:54:41 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:54:41 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:54:41 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:54:41 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:54:41 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:54:41 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:54:41 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:54:42 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:54:42 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:54:42 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:54:42 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:54:42 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:54:42 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:54:42 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:54:42 - agents.orchestrator - INFO - generate_final_summary:151 - Generating final consolidated summary
2025-07-26 13:54:42 - agents.orchestrator - ERROR - generate_final_summary:186 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 172, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 13:54:42 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:54:42 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:54:42 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 13:56:20 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 13:56:20 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 13:56:20 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 13:56:20 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 13:56:20 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 13:56:20 - run_langgraph - ERROR - orchestrate:71 - Error in orchestrator: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 39
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 66, in orchestrate
    breakdown = await self.orchestrator.break_down_query(state["query"]) ####
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 38, in break_down_query
    response = model.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 39
}
]
2025-07-26 13:56:20 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 13:56:20 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: How many open CAPA are present in the last one year?
2025-07-26 13:56:20 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 13:56:20 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 13:56:20 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 13:56:20 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 13:56:20 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 13:56:20 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:56:20 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 13:56:21 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 13:56:21 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 13:56:21 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 13:56:21 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 13:56:21 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 13:56:21 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 13:56:21 - agents.orchestrator - INFO - generate_final_summary:151 - Generating final consolidated summary
2025-07-26 13:56:21 - agents.orchestrator - ERROR - generate_final_summary:186 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 172, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 13:56:21 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 13:56:21 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 13:56:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:47:41 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:47:41 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:48:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:48:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:48:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:48:19 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 18:48:19 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 18:48:19 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 18:48:19 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 18:48:19 - agents.orchestrator - INFO - break_down_query:30 - Breaking down user query using Chain-of-Thought
2025-07-26 18:48:19 - run_langgraph - ERROR - orchestrate:71 - Error in orchestrator: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 66, in orchestrate
    breakdown = await self.orchestrator.break_down_query(state["query"]) ####
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 38, in break_down_query
    response = model.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
2025-07-26 18:48:19 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 18:48:19 - agents.capa_agent - INFO - process_query:24 - Processing CAPA query: How many open CAPA are present in the last one year?
2025-07-26 18:48:19 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 18:48:19 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 18:48:19 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 18:48:19 - run_langgraph - INFO - process_capa:99 - CAPA agent processing completed
2025-07-26 18:48:19 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 18:48:19 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 18:48:19 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 18:48:19 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 18:48:19 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 18:48:20 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 18:48:20 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 18:48:20 - run_langgraph - INFO - process_neo4j:129 - Neo4j agent processing completed
2025-07-26 18:48:20 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 18:48:20 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 18:48:20 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 18:48:20 - agents.orchestrator - INFO - generate_final_summary:151 - Generating final consolidated summary
2025-07-26 18:48:20 - agents.orchestrator - ERROR - generate_final_summary:186 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 172, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 18:48:20 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 18:48:20 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 18:48:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:55:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:55:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:55:10 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:55:11 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:55:11 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:57:54 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:57:54 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:58:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:58:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:58:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 18:58:03 - __main__ - ERROR - main:103 - Error in workflow: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\streamlit_app.py", line 93, in main
    workflow = MultiAgentWorkflow() #run_langgraph.py
               ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 31, in __init__
    self.orchestrator = OrchestratorAgent()
                        ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 30, in __init__
    response = model1.generate_content("Say Hello")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-pro"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-07-26 19:02:13 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:02:13 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:02:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:02:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:02:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:02:27 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:02:27 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:02:27 - agents.orchestrator - INFO - break_down_query:46 - Breaking down user query using Chain-of-Thought
2025-07-26 19:02:27 - agents.orchestrator - ERROR - break_down_query:138 - Error breaking down query: 'OrchestratorAgent' object has no attribute 'model'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 52, in break_down_query
    model = genai.GenerativeModel(self.model)
                                  ^^^^^^^^^^
AttributeError: 'OrchestratorAgent' object has no attribute 'model'
2025-07-26 19:02:27 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 19:02:27 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 19:02:27 - run_langgraph - ERROR - process_capa:102 - Error in CAPA agent: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 97, in process_capa
    result = await self.capa_agent.process_query(capa_query)
                   ^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
2025-07-26 19:02:27 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 19:02:27 - run_langgraph - ERROR - process_neo4j:132 - Error in Neo4j agent: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 127, in process_neo4j
    result = await self.neo4j_agent.get_investigations("Avino", capa_ids)
                   ^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
2025-07-26 19:02:27 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 19:02:27 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 19:02:27 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 19:02:27 - agents.orchestrator - INFO - generate_final_summary:159 - Generating final consolidated summary
2025-07-26 19:02:27 - agents.orchestrator - ERROR - generate_final_summary:194 - Error generating final summary: 'OrchestratorAgent' object has no attribute 'model'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 178, in generate_final_summary
    response = genai.GenerativeModel(self.model).generate_content(
                                     ^^^^^^^^^^
AttributeError: 'OrchestratorAgent' object has no attribute 'model'
2025-07-26 19:02:27 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 19:02:27 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 19:02:27 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:04:47 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:04:47 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:05:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:05:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:05:01 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:05:01 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:05:01 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:05:01 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:05:01 - agents.orchestrator - ERROR - break_down_query:139 - Error breaking down query: 400 Content with system role is not supported.
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 115, in break_down_query
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\myenv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 Content with system role is not supported.
2025-07-26 19:05:01 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 19:05:01 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 19:05:01 - run_langgraph - ERROR - process_capa:102 - Error in CAPA agent: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 97, in process_capa
    result = await self.capa_agent.process_query(capa_query)
                   ^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
2025-07-26 19:05:01 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 19:05:01 - run_langgraph - ERROR - process_neo4j:132 - Error in Neo4j agent: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 127, in process_neo4j
    result = await self.neo4j_agent.get_investigations("Avino", capa_ids)
                   ^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
2025-07-26 19:05:01 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 19:05:01 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 19:05:01 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 19:05:01 - agents.orchestrator - INFO - generate_final_summary:160 - Generating final consolidated summary
2025-07-26 19:05:01 - agents.orchestrator - ERROR - generate_final_summary:195 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 181, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:05:01 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 19:05:01 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 19:05:02 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:34 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:35 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:35 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:09:35 - run_langgraph - INFO - run:219 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:09:35 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:09:35 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:09:38 - agents.orchestrator - INFO - break_down_query:138 - Successfully broke down query into sub-questions
2025-07-26 19:09:38 - run_langgraph - INFO - orchestrate:68 - Query breakdown completed: 3 sub-questions
2025-07-26 19:09:38 - run_langgraph - INFO - process_capa:78 - Starting CAPA agent
2025-07-26 19:09:38 - run_langgraph - ERROR - process_capa:102 - Error in CAPA agent: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 97, in process_capa
    result = await self.capa_agent.process_query(capa_query)
                   ^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'capa_agent'
2025-07-26 19:09:38 - run_langgraph - INFO - process_neo4j:111 - Starting Neo4j agent
2025-07-26 19:09:38 - run_langgraph - ERROR - process_neo4j:132 - Error in Neo4j agent: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 127, in process_neo4j
    result = await self.neo4j_agent.get_investigations("Avino", capa_ids)
                   ^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
2025-07-26 19:09:38 - run_langgraph - INFO - process_vector:141 - Starting Vector agent
2025-07-26 19:09:38 - run_langgraph - ERROR - process_vector:162 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 157, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 19:09:38 - run_langgraph - INFO - consolidate_results:171 - Consolidating results
2025-07-26 19:09:38 - agents.orchestrator - INFO - generate_final_summary:165 - Generating final consolidated summary
2025-07-26 19:09:38 - agents.orchestrator - ERROR - generate_final_summary:200 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 186, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:09:38 - run_langgraph - INFO - consolidate_results:209 - Results consolidation completed
2025-07-26 19:09:38 - run_langgraph - INFO - run:232 - Workflow completed successfully
2025-07-26 19:09:38 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:31 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:31 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:38 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:19:39 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:19:39 - run_langgraph - INFO - run:231 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:19:39 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:19:39 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:19:42 - agents.orchestrator - INFO - break_down_query:137 - Successfully broke down query into sub-questions
2025-07-26 19:19:42 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:19:42 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:19:42 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present in the last one year?
2025-07-26 19:19:42 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:19:42 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:19:42 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:19:42 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:19:42 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:19:42 - run_langgraph - ERROR - process_neo4j:141 - Error in Neo4j agent: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 136, in process_neo4j
    result = await self.neo4j_agent.get_investigations("Avino", capa_ids)
                   ^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'neo4j_agent'
2025-07-26 19:19:42 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:19:42 - run_langgraph - ERROR - process_vector:174 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 169, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 19:19:42 - run_langgraph - INFO - consolidate_results:183 - Consolidating results
2025-07-26 19:19:42 - agents.orchestrator - INFO - generate_final_summary:164 - Generating final consolidated summary
2025-07-26 19:19:42 - agents.orchestrator - ERROR - generate_final_summary:199 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 185, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:19:42 - run_langgraph - INFO - consolidate_results:221 - Results consolidation completed
2025-07-26 19:19:42 - run_langgraph - INFO - run:244 - Workflow completed successfully
2025-07-26 19:19:42 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:36 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:36 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:23:46 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:23:46 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:23:47 - run_langgraph - INFO - run:231 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:23:47 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:23:47 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:23:49 - agents.orchestrator - INFO - break_down_query:137 - Successfully broke down query into sub-questions
2025-07-26 19:23:49 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:23:49 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:23:49 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present in the last one year?
2025-07-26 19:23:49 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:23:49 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:23:49 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:23:49 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:23:49 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:23:49 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:23:49 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:23:49 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 19:23:49 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 19:23:49 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 19:23:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 19:23:50 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 19:23:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 19:23:50 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 19:23:50 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 19:23:50 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 19:23:50 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 19:23:50 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:23:50 - run_langgraph - ERROR - process_vector:174 - Error in Vector agent: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 169, in process_vector
    result = await self.vector_agent.search_clinical_trials("Avino", pdf_links)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'vector_agent'
2025-07-26 19:23:50 - run_langgraph - INFO - consolidate_results:183 - Consolidating results
2025-07-26 19:23:50 - agents.orchestrator - INFO - generate_final_summary:164 - Generating final consolidated summary
2025-07-26 19:23:50 - agents.orchestrator - ERROR - generate_final_summary:199 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 185, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:23:50 - run_langgraph - INFO - consolidate_results:221 - Results consolidation completed
2025-07-26 19:23:50 - run_langgraph - INFO - run:244 - Workflow completed successfully
2025-07-26 19:23:50 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:35 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:36 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:36 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:31:37 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:31:37 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:31:37 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:31:37 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:31:38 - run_langgraph - INFO - run:233 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:31:38 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:31:38 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:31:40 - agents.orchestrator - INFO - break_down_query:137 - Successfully broke down query into sub-questions
2025-07-26 19:31:40 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:31:40 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:31:40 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present in the last one year?
2025-07-26 19:31:40 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:31:40 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:31:40 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:31:40 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:31:40 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:31:40 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:31:40 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:31:40 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 19:31:40 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 19:31:40 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 19:31:41 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 19:31:41 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 19:31:41 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 19:31:41 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 19:31:41 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 19:31:41 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 19:31:41 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 19:31:41 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:31:41 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 19:31:42 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 19:31:42 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 19:31:42 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 19:31:42 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 19:31:42 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 19:31:42 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 19:31:42 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 19:31:42 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 19:31:50 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 19:31:50 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 19:31:50 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 19:31:50 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 19:31:50 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 19:31:50 - agents.orchestrator - INFO - generate_final_summary:164 - Generating final consolidated summary
2025-07-26 19:31:50 - agents.orchestrator - ERROR - generate_final_summary:199 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 185, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:31:50 - run_langgraph - INFO - consolidate_results:223 - Results consolidation completed
2025-07-26 19:31:50 - run_langgraph - INFO - run:246 - Workflow completed successfully
2025-07-26 19:31:51 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:34:16 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:34:16 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:34:16 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:34:16 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:34:16 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:34:17 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:34:17 - run_langgraph - INFO - send_email:262 - Sending email with results
2025-07-26 19:34:17 - run_langgraph - ERROR - send_email:268 - Error sending email: 'MultiAgentWorkflow' object has no attribute 'email_agent'
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\run_langgraph.py", line 265, in send_email
    return await self.email_agent.send_summary_email(results)
                 ^^^^^^^^^^^^^^^^
AttributeError: 'MultiAgentWorkflow' object has no attribute 'email_agent'. Did you mean: 'capa_agent'?
2025-07-26 19:35:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:35:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:35:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:35:32 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:35:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:35:33 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:35:33 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:35:33 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:35:34 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:35:34 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 19:35:34 - run_langgraph - INFO - run:233 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:35:34 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:35:34 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:35:36 - agents.orchestrator - INFO - break_down_query:137 - Successfully broke down query into sub-questions
2025-07-26 19:35:36 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:35:36 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:35:36 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present in the last one year?
2025-07-26 19:35:36 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:35:36 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:35:36 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:35:36 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:35:36 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:35:36 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:35:36 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:35:36 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 19:35:36 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 19:35:36 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 19:35:36 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 19:35:37 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 19:35:37 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 19:35:37 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 19:35:37 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 19:35:37 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 19:35:37 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 19:35:37 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:35:37 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 19:35:37 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 19:35:37 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 19:35:37 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 19:35:37 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 19:35:37 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 19:35:38 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 19:35:38 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 19:35:38 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 19:35:45 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 19:35:45 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 19:35:45 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 19:35:45 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 19:35:45 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 19:35:45 - agents.orchestrator - INFO - generate_final_summary:164 - Generating final consolidated summary
2025-07-26 19:35:45 - agents.orchestrator - ERROR - generate_final_summary:199 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 185, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:35:45 - run_langgraph - INFO - consolidate_results:223 - Results consolidation completed
2025-07-26 19:35:45 - run_langgraph - INFO - run:246 - Workflow completed successfully
2025-07-26 19:35:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:36:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:36:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:36:07 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:36:07 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:36:07 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:36:08 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:36:08 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 19:36:08 - run_langgraph - INFO - send_email:262 - Sending email with results
2025-07-26 19:36:08 - agents.email_agent - INFO - send_summary_email:27 - Preparing to send summary email
2025-07-26 19:36:08 - mcp_modules.mcp_email - INFO - send_email:33 - Sending email to: analyst@yourcompany.com
2025-07-26 19:36:08 - mcp_modules.mcp_email - INFO - _send_mock_email:53 - Sending mock email
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _send_mock_email:60 - Mock Email Details:
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _send_mock_email:61 -   To: analyst@yourcompany.com
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _send_mock_email:62 -   From: system@yourcompany.com
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _send_mock_email:63 -   Subject: Pharmaceutical Analysis Summary - 2025-07-26 19:36
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _send_mock_email:64 -   Body Length: 2256
2025-07-26 19:36:10 - mcp_modules.mcp_email - INFO - _save_mock_email_log:112 - Mock email logged to: logs\mock_emails.log
2025-07-26 19:36:10 - agents.email_agent - INFO - send_summary_email:47 - Email sent successfully
2025-07-26 19:40:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:40:22 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:40:40 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:40:45 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:40:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:40:46 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:40:46 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:40:46 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:40:47 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:40:47 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 19:40:47 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA present in last one year. Also, provide how many investigation wer...
2025-07-26 19:40:47 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:40:47 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:40:50 - agents.orchestrator - INFO - break_down_query:137 - Successfully broke down query into sub-questions
2025-07-26 19:40:50 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:40:50 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:40:50 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present in the last one year?
2025-07-26 19:40:50 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:40:50 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:40:50 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:40:50 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:40:50 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:40:50 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 19:40:50 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 19:40:50 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 19:40:50 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 19:40:50 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:40:50 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 19:40:51 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 19:40:51 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 19:40:51 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 19:40:51 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 19:40:51 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 19:40:51 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 19:40:51 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 19:40:51 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 19:40:59 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 19:40:59 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 19:40:59 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 19:40:59 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 19:40:59 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 19:40:59 - agents.orchestrator - INFO - generate_final_summary:164 - Generating final consolidated summary
2025-07-26 19:40:59 - agents.orchestrator - ERROR - generate_final_summary:199 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 185, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:40:59 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 19:40:59 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 19:40:59 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:41:16 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:41:16 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:41:16 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:41:16 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:41:16 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:41:17 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:41:17 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 19:41:17 - run_langgraph - INFO - send_email:265 - Sending email with results
2025-07-26 19:41:17 - agents.email_agent - INFO - send_summary_email:27 - Preparing to send summary email
2025-07-26 19:41:17 - mcp_modules.mcp_email - INFO - send_email:33 - Sending email to: analyst@yourcompany.com
2025-07-26 19:41:17 - mcp_modules.mcp_email - INFO - _send_mock_email:53 - Sending mock email
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _send_mock_email:60 - Mock Email Details:
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _send_mock_email:61 -   To: analyst@yourcompany.com
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _send_mock_email:62 -   From: system@yourcompany.com
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _send_mock_email:63 -   Subject: Pharmaceutical Analysis Summary - 2025-07-26 19:41
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _send_mock_email:64 -   Body Length: 2900
2025-07-26 19:41:18 - mcp_modules.mcp_email - INFO - _save_mock_email_log:112 - Mock email logged to: logs\mock_emails.log
2025-07-26 19:41:18 - agents.email_agent - INFO - send_summary_email:47 - Email sent successfully
2025-07-26 19:42:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:42:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:42:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:42:46 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:43:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:43:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:43:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:43:43 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:17 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:54 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:44:54 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:45:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:45:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:45:32 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:45:35 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:47:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:47:00 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:47:10 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:51:34 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:51:34 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:54:55 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:54:55 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:55:15 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:07 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:20 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 19:56:20 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 19:56:20 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 19:56:20 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 19:56:21 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 19:56:21 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 19:56:21 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 19:56:21 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 19:56:21 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 19:56:24 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 19:56:24 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 19:56:24 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 19:56:24 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present within the last year, categorized by status and timeframe?
2025-07-26 19:56:24 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 19:56:24 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 19:56:24 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 19:56:24 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 19:56:24 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 19:56:24 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 19:56:24 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 19:56:25 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 19:56:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 19:56:25 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 19:56:25 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 19:56:25 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 19:56:25 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 19:56:25 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 19:56:25 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 19:56:25 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 19:56:25 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 19:56:25 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 19:56:25 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 19:56:25 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 19:56:25 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 19:56:34 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 19:56:34 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 19:56:34 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 19:56:34 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 19:56:34 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 19:56:34 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 19:56:34 - agents.orchestrator - ERROR - generate_final_summary:198 - Error generating final summary: name 'types' is not defined
Traceback (most recent call last):
  File "C:\Users\SauravMaulick\Desktop\GenAI\Learning\GenAICoordinator\agents\orchestrator.py", line 184, in generate_final_summary
    types.Content(role="user", parts=[types.Part(text=f"Consolidated Data:\n{consolidated_data}")])
    ^^^^^
NameError: name 'types' is not defined. Did you mean: 'type'? Or did you forget to import 'types'
2025-07-26 19:56:34 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 19:56:34 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 19:56:34 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:05 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:05 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:21 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:01:21 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:01:21 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:01:21 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:01:22 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:01:22 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:01:22 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 20:01:22 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 20:01:22 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 20:01:25 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 20:01:25 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 20:01:25 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 20:01:25 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs have been reported in the last year?
2025-07-26 20:01:25 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 20:01:25 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 20:01:25 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 20:01:25 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 20:01:25 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 20:01:25 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 20:01:25 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 20:01:25 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 20:01:25 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 20:01:25 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 20:01:25 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 20:01:26 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 20:01:26 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 20:01:26 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 20:01:26 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 20:01:26 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 20:01:26 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 20:01:26 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 20:01:26 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 20:01:33 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 20:01:33 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 20:01:33 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 20:01:33 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 20:01:33 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 20:01:33 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 20:01:36 - agents.orchestrator - INFO - generate_final_summary:211 - Successfully generated final summary
2025-07-26 20:01:36 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 20:01:36 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 20:01:36 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:02:42 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:02:42 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:02:42 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:02:42 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:02:42 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:02:43 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:02:43 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:02:43 - run_langgraph - INFO - send_email:265 - Sending email with results
2025-07-26 20:02:43 - agents.email_agent - INFO - send_summary_email:27 - Preparing to send summary email
2025-07-26 20:02:43 - mcp_modules.mcp_email - INFO - send_email:33 - Sending email to: analyst@yourcompany.com
2025-07-26 20:02:43 - mcp_modules.mcp_email - INFO - _send_mock_email:53 - Sending mock email
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _send_mock_email:60 - Mock Email Details:
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _send_mock_email:61 -   To: analyst@yourcompany.com
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _send_mock_email:62 -   From: system@yourcompany.com
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _send_mock_email:63 -   Subject: Pharmaceutical Analysis Summary - 2025-07-26 20:02
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _send_mock_email:64 -   Body Length: 2849
2025-07-26 20:02:44 - mcp_modules.mcp_email - INFO - _save_mock_email_log:112 - Mock email logged to: logs\mock_emails.log
2025-07-26 20:02:44 - agents.email_agent - INFO - send_summary_email:47 - Email sent successfully
2025-07-26 20:09:11 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:09:11 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:09:18 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:09:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:09:19 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:09:19 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:09:19 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:09:19 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:09:19 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:09:19 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:09:19 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 20:09:19 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 20:09:19 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 20:09:22 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 20:09:22 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 20:09:22 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 20:09:22 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs have been reported in the last year?
2025-07-26 20:09:22 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 20:09:22 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 20:09:22 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 20:09:22 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 20:09:22 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 20:09:22 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:09:22 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:09:22 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 20:09:22 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 20:09:22 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 20:09:23 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 20:09:23 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 20:09:23 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 20:09:23 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 20:09:23 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 20:09:23 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 20:09:23 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 20:09:23 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 20:09:23 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 20:09:23 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 20:09:23 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 20:09:23 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 20:09:23 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 20:09:23 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 20:09:24 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 20:09:24 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 20:09:24 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 20:09:31 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 20:09:31 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 20:09:31 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 20:09:31 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 20:09:31 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 20:09:31 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 20:09:34 - agents.orchestrator - INFO - generate_final_summary:211 - Successfully generated final summary
2025-07-26 20:09:34 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 20:09:34 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 20:09:34 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:23 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:38 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:38 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:39 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:24:39 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:24:39 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:24:39 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:24:40 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:24:40 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:24:40 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 20:24:40 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 20:24:40 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 20:24:43 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 20:24:43 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 20:24:43 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 20:24:43 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs are present within the last year, categorized by status and timeframe?
2025-07-26 20:24:43 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 20:24:43 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 20:24:43 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 20:24:43 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 20:24:43 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 20:24:43 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 20:24:43 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 20:24:43 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 20:24:43 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 20:24:43 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 20:24:43 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 20:24:44 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 20:24:44 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 20:24:44 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 20:24:44 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 20:24:44 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 20:24:44 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 20:24:44 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 20:24:44 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 20:24:55 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 20:24:55 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 20:24:55 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 20:24:55 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 20:24:55 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 20:24:55 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 20:24:58 - agents.orchestrator - INFO - generate_final_summary:213 - Successfully generated final summary
2025-07-26 20:24:58 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 20:24:58 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 20:24:58 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:03 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:27:12 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:27:12 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:27:12 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:27:13 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:27:13 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:27:13 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 20:27:13 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 20:27:13 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 20:27:16 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 20:27:16 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 20:27:16 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 20:27:16 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many CAPAs have an open status and were created within the last year?
2025-07-26 20:27:16 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 20:27:16 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 20:27:16 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 20:27:16 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 20:27:16 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 20:27:16 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 20:27:16 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 20:27:16 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 20:27:16 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 20:27:16 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 20:27:16 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 20:27:17 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 20:27:17 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 20:27:17 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 20:27:17 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 20:27:17 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 20:27:17 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 20:27:17 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 20:27:17 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 20:27:25 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 20:27:25 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 20:27:25 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 20:27:25 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 20:27:25 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 20:27:25 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 20:27:28 - agents.orchestrator - INFO - generate_final_summary:213 - Successfully generated final summary
2025-07-26 20:27:28 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 20:27:28 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 20:27:28 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:28:27 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:28:27 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:29:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:29:12 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:29:12 - mcp_modules.mcp_capa - INFO - __init__:16 - Initialized mcp_capa module
2025-07-26 20:29:12 - mcp_modules.mcp_neo4j - INFO - __init__:21 - Initialized mcp_neo4j module
2025-07-26 20:29:12 - mcp_modules.mcp_vector - INFO - __init__:22 - Initialized mcp_vector module
2025-07-26 20:29:13 - models.embeddings_handler - INFO - __init__:20 - Initialized EmbeddingsHandler with Gemini
2025-07-26 20:29:13 - mcp_modules.mcp_email - INFO - __init__:27 - Initialized mcp_email module (Mock Mode: True)
2025-07-26 20:29:13 - run_langgraph - INFO - run:236 - Starting workflow for query: Please provide how many open CAPA are present in the last one year. Also, provide how many investiga...
2025-07-26 20:29:13 - run_langgraph - INFO - orchestrate:63 - Starting orchestrator agent
2025-07-26 20:29:13 - agents.orchestrator - INFO - break_down_query:47 - Breaking down user query using Chain-of-Thought
2025-07-26 20:29:15 - agents.orchestrator - INFO - break_down_query:136 - Successfully broke down query into sub-questions
2025-07-26 20:29:15 - run_langgraph - INFO - orchestrate:71 - Query breakdown completed: 3 sub-questions
2025-07-26 20:29:15 - run_langgraph - INFO - process_capa:81 - Starting CAPA agent
2025-07-26 20:29:15 - agents.capa_agent - INFO - process_query:24 - 

Processing CAPA query: Q1: How many open CAPAs have been reported in the last year?
2025-07-26 20:29:15 - mcp_modules.mcp_capa - INFO - read_capa_data:22 - Reading CAPA data from: data/capa_data.txt
2025-07-26 20:29:15 - mcp_modules.mcp_capa - INFO - read_capa_data:77 - Successfully read 20 CAPA records
2025-07-26 20:29:15 - agents.capa_agent - INFO - process_query:56 - Successfully processed CAPA query. Found 0 open CAPAs
2025-07-26 20:29:15 - run_langgraph - INFO - process_capa:105 - CAPA agent processing completed
2025-07-26 20:29:15 - run_langgraph - INFO - process_neo4j:117 - Starting Neo4j agent
2025-07-26 20:29:15 - agents.neo4j_agent - INFO - get_investigations:21 - Retrieving investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:29:15 - mcp_modules.mcp_neo4j - INFO - query_investigations:148 - Querying investigations for brand: Avino, CAPA IDs: []
2025-07-26 20:29:15 - mcp_modules.mcp_neo4j - INFO - query_investigations:168 - Found 3 investigations for brand Avino
2025-07-26 20:29:15 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024001
2025-07-26 20:29:15 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024001
2025-07-26 20:29:16 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024002
2025-07-26 20:29:16 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024002
2025-07-26 20:29:16 - mcp_modules.mcp_neo4j - INFO - get_capa_details:179 - Getting CAPA details for: CAPA2024003
2025-07-26 20:29:16 - mcp_modules.mcp_neo4j - WARNING - get_capa_details:188 - CAPA CAPA2024003 not found
2025-07-26 20:29:16 - mcp_modules.mcp_neo4j - INFO - get_batch_info:199 - Getting batch info for: AV2024003
2025-07-26 20:29:16 - agents.neo4j_agent - INFO - get_investigations:52 - Successfully retrieved 3 investigations for Avino
2025-07-26 20:29:16 - run_langgraph - INFO - process_neo4j:138 - Neo4j agent processing completed
2025-07-26 20:29:16 - run_langgraph - INFO - process_vector:150 - Starting Vector agent
2025-07-26 20:29:16 - agents.vector_agent - INFO - search_clinical_trials:23 - Searching clinical trials for brand: Avino
2025-07-26 20:29:17 - models.embeddings_handler - WARNING - _generate_gemini_embedding:68 - Invalid response from Gemini embedding API
2025-07-26 20:29:17 - models.embeddings_handler - WARNING - generate_embedding:40 - Gemini embedding failed, using fallback
2025-07-26 20:29:17 - models.embeddings_handler - INFO - _generate_fallback_embedding:96 - Using fallback embedding generation
2025-07-26 20:29:17 - models.embeddings_handler - WARNING - _generate_fallback_embedding:108 - sentence-transformers not available, using mock embedding
2025-07-26 20:29:17 - mcp_modules.mcp_vector - INFO - vector_search:120 - Performing vector search with top_k=5, filters={'brand': 'Avino'}
2025-07-26 20:29:17 - mcp_modules.mcp_vector - INFO - vector_search:162 - Vector search returned 4 results
2025-07-26 20:29:17 - models.embeddings_handler - INFO - generate_summary:246 - Generating summary using Gemini
2025-07-26 20:29:17 - google_genai.models - INFO - generate_content:5770 - AFC is enabled with max remote calls: 10.
2025-07-26 20:29:26 - google_genai.models - INFO - generate_content:5781 - AFC remote call 1 is done.
2025-07-26 20:29:26 - models.embeddings_handler - INFO - generate_summary:269 - Successfully generated summary
2025-07-26 20:29:26 - agents.vector_agent - INFO - search_clinical_trials:65 - Successfully found 4 clinical trial documents for Avino
2025-07-26 20:29:26 - run_langgraph - INFO - process_vector:173 - Vector agent processing completed
2025-07-26 20:29:26 - run_langgraph - INFO - consolidate_results:185 - Consolidating results
2025-07-26 20:29:26 - agents.orchestrator - INFO - generate_final_summary:163 - Generating final consolidated summary
2025-07-26 20:29:30 - agents.orchestrator - INFO - generate_final_summary:213 - Successfully generated final summary
2025-07-26 20:29:30 - run_langgraph - INFO - consolidate_results:226 - Results consolidation completed
2025-07-26 20:29:30 - run_langgraph - INFO - run:249 - Workflow completed successfully
2025-07-26 20:29:30 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:31:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
2025-07-26 20:31:33 - root - INFO - setup_logging:79 - Logging initialized - Level: INFO, File: logs\multi_agent_system_20250726.log
